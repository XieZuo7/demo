<!DOCTYPE html>
<html>
  <head>
    <!-- Origin Trial Token, feature = WebUSB (For Chrome M57+), origin = https://webusb.github.io, expires = 2017-06-19 -->
    <meta http-equiv="origin-trial" data-feature="WebUSB (For Chrome M57+)" data-expires="2017-06-19" content="Ag83MurQOa5N4SKRCqqtSlbycfe08s5LgUiqEI7J3jTk2NEIpRp7SLPz2i+EBDuXyf+AeRMdD6BI++kTSJmGzQEAAABReyJvcmlnaW4iOiJodHRwczovL3dlYnVzYi5naXRodWIuaW86NDQzIiwiZmVhdHVyZSI6IldlYlVTQjIiLCJleHBpcnkiOjE0OTc4OTM2OTV9">
    <title>Cycling Tracking System</title>
    <script src="../serial.js"></script>
    <script src="Cycling Tracking System.js"></script>
  </head>
  <body>
    <p>
	<center><button id="connect">Connect</button> <span id="status"></span></center>
    </p>
	<font size=6"" color=#00FF00""><center>记录你的每一天</center></font>
	<input type="range" min="0" max="70" value="20" id="red"/>
	<input type="range" min="0" max="255" value="50" id="green"/>
	<input type="range" min="0" max="255" value="33" id="blue"/>
	
<input id="range9" type="range" min="0" max="70" value="50"step="1" oninput="change()" onchange="change()">
		<span id="value9">50</span>

<input id="range10" type="range" min="0" max="70" value="10"step="1" oninput="change()" onchange="change()">
		<span id="value10">10</span>


	<center><canvas id="mc" width="900" height="450" style="border:1px solid black;border-radius:30px;"></canvas></center>
	<script type="text/javascript">
function change() {
	var value9 = document.getElementById('range9').value ;
  	document.getElementById('value9').innerHTML = value9;

  	var value10 = document.getElementById('range10').value ;
  	document.getElementById('value10').innerHTML = value10;
	}
		var canvas=document.getElementById('mc');
		var ctx=canvas.getContext('2d');
		

function init(){
       draw();
}
init();

function draw(){
		ctx.clearRect(0, 0, 900, 450); 
		
		ctx.beginPath();
		
		ctx.moveTo(50,20);
		ctx.lineTo(50,380);
		ctx.lineTo(880,380);
		
		ctx.strokeStyle="#555";
		for(var i=0;i<7;i++)
		{
			ctx.moveTo(50,30+50*i);
			ctx.lineTo(880,30+50*i);
			ctx.strokeText('70'-10*i,20,32+50*i);
		}
		
		for(var i=0;i<10;i++)
		{
			ctx.strokeText('第'+'1'*(i+1)+'天',80+80*i,435);
		}
		


		//折线
		ctx.moveTo(80,180);
		ctx.lineTo(160,150);
		ctx.lineTo(240,200);
		ctx.lineTo(320,130);
		ctx.lineTo(400,180);
		ctx.lineTo(480,170);
		ctx.lineTo(560,120);
		ctx.lineTo(640,200);
		ctx.lineTo(720,'380'-5*document.getElementById('value9').innerHTML);
		ctx.lineTo(800,150);
		//ctx.lineTo(800,'380'-5*document.getElementById('value10').innerHTML);
		ctx.stroke();
requestAnimationFrame(draw);
}
	</script>


  </body>
</html>
